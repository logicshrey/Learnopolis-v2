(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(3530)}])},6081:function(e,r,s){"use strict";s.d(r,{Z:function(){return c}});var a=s(5893),t=s(7294),n=s(1664),i=s.n(n),l=s(1163),d=s(3299),o=s(241);function c(){let{data:e}=(0,d.useSession)(),r=(0,l.useRouter)(),[s,n]=(0,t.useState)(!1),{theme:c,toggleTheme:x}=(0,o.F)(),m=[{name:"Home",href:"/"},{name:"Courses",href:"/courses"},{name:"Videos",href:"/videos"},{name:"Learning Paths",href:"/learning-paths"},{name:"Leaderboard",href:"/leaderboard"}],h=(e,r)=>"/"===r?"/"===e:e.startsWith(r);return(0,a.jsxs)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,a.jsx)(i(),{href:"/",className:"text-2xl font-bold text-indigo-600",children:"Learnopolis"})}),(0,a.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:m.map(e=>(0,a.jsx)(i(),{href:e.href,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200 ".concat(h(r.pathname,e.href)?"border-indigo-500 text-gray-900 dark:text-white":"border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-100"),children:e.name},e.name))})]}),(0,a.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:[e?(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/dashboard",className:"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat("/dashboard"===r.pathname?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-200":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"Dashboard"}),(0,a.jsx)(i(),{href:"/profile",className:"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat("/profile"===r.pathname?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-200":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"Profile"}),(0,a.jsx)("button",{onClick:()=>(0,d.signOut)({callbackUrl:"/"}),className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Logout"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(i(),{href:"/auth/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Login"}),(0,a.jsx)(i(),{href:"/auth/signup",className:"px-3 py-2 rounded-md text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700",children:"Sign Up"})]}),(0,a.jsx)("button",{onClick:x,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100","aria-label":"Toggle theme",children:"light"===c?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})]}),(0,a.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,a.jsxs)("button",{onClick:()=>n(!s),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),s?(0,a.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,a.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),s&&(0,a.jsxs)("div",{className:"sm:hidden",children:[(0,a.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[m.map(e=>(0,a.jsx)(i(),{href:e.href,className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ".concat(h(r.pathname,e.href)?"bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-700 dark:text-indigo-200":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100"),children:e.name},e.name)),e&&(0,a.jsx)(i(),{href:"/profile",className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ".concat("/profile"===r.pathname?"bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-700 dark:text-indigo-200":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100"),children:"Profile"})]}),(0,a.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:e?(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i(),{href:"/dashboard",className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ".concat("/dashboard"===r.pathname?"bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-700 dark:text-indigo-200":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100"),children:"Dashboard"}),(0,a.jsx)("button",{onClick:()=>(0,d.signOut)({callbackUrl:"/"}),className:"block w-full text-left pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"Logout"})]}):(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(i(),{href:"/auth/signin",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"Login"}),(0,a.jsx)(i(),{href:"/auth/signup",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"Sign Up"})]})})]})]})}},3530:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return o}});var a=s(5893),t=s(7294),n=s(3299),i=s(1163),l=s(6081);function d(e){let{achievements:r}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Achievements"}),r.length>0?(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-start p-4 bg-indigo-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["level_up"===e.type&&(0,a.jsx)("div",{className:"w-10 h-10 bg-indigo-600 text-white rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),"course_complete"===e.type&&(0,a.jsx)("div",{className:"w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:e.description}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Earned ",new Date(e.earnedAt).toLocaleDateString()]})]})]},e.id))}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No achievements yet. Keep learning to earn badges!"})]})}function o(){let{data:e,status:r}=(0,n.useSession)(),s=(0,i.useRouter)(),[o,c]=(0,t.useState)(null),[x,m]=(0,t.useState)(!0);(0,t.useEffect)(()=>{"unauthenticated"===r&&s.push("/auth/signin"),(null==e?void 0:e.user)&&h()},[e,r,s]);let h=async()=>{try{let e=await fetch("/api/user/profile"),r=await e.json();c(r.profile)}catch(e){console.error("Error fetching profile:",e)}finally{m(!1)}};return"loading"===r||x?(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})]}):e?o?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Your Profile"}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"View your progress and achievements"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 text-3xl font-bold mx-auto",children:(null==o?void 0:o.name)?o.name.charAt(0):"?"}),(0,a.jsx)("h2",{className:"mt-4 text-xl font-bold text-gray-900",children:(null==o?void 0:o.name)||"User"}),(0,a.jsx)("p",{className:"text-gray-600",children:(null==o?void 0:o.email)||"No email"}),(0,a.jsxs)("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:["Level ",(null==o?void 0:o.level)||1]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Points"}),(0,a.jsx)("span",{className:"font-medium",children:(null==o?void 0:o.points)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Enrolled Courses"}),(0,a.jsx)("span",{className:"font-medium",children:(null==o?void 0:o.enrolledCourses)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Completed Courses"}),(0,a.jsx)("span",{className:"font-medium",children:(null==o?void 0:o.completedCourses)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Quizzes Taken"}),(0,a.jsx)("span",{className:"font-medium",children:(null==o?void 0:o.quizzesTaken)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Average Score"}),(0,a.jsxs)("span",{className:"font-medium",children:[(null==o?void 0:o.averageScore)||0,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Joined"}),(0,a.jsx)("span",{className:"font-medium",children:(null==o?void 0:o.joinDate)?new Date(o.joinDate).toLocaleDateString():"Unknown"})]})]})]})}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Achievements"]})}),(0,a.jsx)(d,{achievements:(null==o?void 0:o.achievements)||[]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Progress Stats"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Learning Streak"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 text-2xl font-bold",children:Math.floor(10*Math.random())+1}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-gray-600",children:"days in a row"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Keep it up!"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Next Level"}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsxs)("span",{children:["Level ",(null==o?void 0:o.level)||1]}),(0,a.jsxs)("span",{children:["Level ",((null==o?void 0:o.level)||1)+1]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:"".concat((null==o?void 0:o.points)?o.points%100/100*100:0,"%")}})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(null==o?void 0:o.points)?100-o.points%100:100," more points to level up"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Time Spent Learning"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-indigo-600 mb-1",children:[Math.floor(3.5*((null==o?void 0:o.enrolledCourses)||0))," hrs"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Across all courses"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Favorite Subject"}),(0,a.jsx)("div",{className:"text-xl font-medium text-indigo-600 mb-1",children:["Web Development","Data Science","AI","Computer Science"][Math.floor(4*Math.random())]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Based on your course enrollments"})]})]})]})]})]})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{}),(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Error loading profile"})})})]}):(s.push("/auth/signin"),null)}},1163:function(e,r,s){e.exports=s(3035)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);