(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{9641:function(e,r,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/learning-paths",function(){return a(8055)}])},6081:function(e,r,a){"use strict";a.d(r,{Z:function(){return c}});var t=a(5893),s=a(7294),n=a(1664),i=a.n(n),o=a(1163),d=a(3299),l=a(241);function c(){let{data:e}=(0,d.useSession)(),r=(0,o.useRouter)(),[a,n]=(0,s.useState)(!1),{theme:c,toggleTheme:h}=(0,l.F)(),g=[{name:"Home",href:"/"},{name:"Courses",href:"/courses"},{name:"Videos",href:"/videos"},{name:"Learning Paths",href:"/learning-paths"},{name:"Leaderboard",href:"/leaderboard"}],x=(e,r)=>"/"===r?"/"===e:e.startsWith(r);return(0,t.jsxs)("nav",{className:"bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,t.jsx)(i(),{href:"/",className:"text-2xl font-bold text-indigo-600",children:"Learnopolis"})}),(0,t.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:g.map(e=>(0,t.jsx)(i(),{href:e.href,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200 ".concat(x(r.pathname,e.href)?"border-indigo-500 text-gray-900 dark:text-white":"border-transparent text-gray-500 dark:text-gray-300 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-100"),children:e.name},e.name))})]}),(0,t.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:[e?(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i(),{href:"/dashboard",className:"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat("/dashboard"===r.pathname?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-200":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"Dashboard"}),(0,t.jsx)(i(),{href:"/profile",className:"px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ".concat("/profile"===r.pathname?"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-200":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:"Profile"}),(0,t.jsx)("button",{onClick:()=>(0,d.signOut)({callbackUrl:"/"}),className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Logout"})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(i(),{href:"/auth/signin",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Login"}),(0,t.jsx)(i(),{href:"/auth/signup",className:"px-3 py-2 rounded-md text-sm font-medium bg-indigo-600 text-white hover:bg-indigo-700",children:"Sign Up"})]}),(0,t.jsx)("button",{onClick:h,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100","aria-label":"Toggle theme",children:"light"===c?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})]}),(0,t.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,t.jsxs)("button",{onClick:()=>n(!a),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open main menu"}),a?(0,t.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,t.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),a&&(0,t.jsxs)("div",{className:"sm:hidden",children:[(0,t.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[g.map(e=>(0,t.jsx)(i(),{href:e.href,className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ".concat(x(r.pathname,e.href)?"bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-700 dark:text-indigo-200":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100"),children:e.name},e.name)),e&&(0,t.jsx)(i(),{href:"/profile",className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ".concat("/profile"===r.pathname?"bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-700 dark:text-indigo-200":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100"),children:"Profile"})]}),(0,t.jsx)("div",{className:"pt-4 pb-3 border-t border-gray-200 dark:border-gray-700",children:e?(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(i(),{href:"/dashboard",className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200 ".concat("/dashboard"===r.pathname?"bg-indigo-50 dark:bg-indigo-900 border-indigo-500 text-indigo-700 dark:text-indigo-200":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100"),children:"Dashboard"}),(0,t.jsx)("button",{onClick:()=>(0,d.signOut)({callbackUrl:"/"}),className:"block w-full text-left pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"Logout"})]}):(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(i(),{href:"/auth/signin",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"Login"}),(0,t.jsx)(i(),{href:"/auth/signup",className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:"Sign Up"})]})})]})]})}},8055:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return c}});var t=a(5893),s=a(7294),n=a(3299),i=a(1163),o=a(6081),d=a(1664),l=a.n(d);function c(){let{data:e,status:r}=(0,n.useSession)(),a=(0,i.useRouter)(),[d,c]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{"unauthenticated"===r&&a.push("/auth/signin"),(null==e?void 0:e.user)&&u()},[e,r,a]);let u=async()=>{try{let e=await fetch("/api/ai/learning-paths"),r=await e.json();c(r.learningPaths||[])}catch(e){console.error("Error fetching learning paths:",e)}finally{g(!1)}},p=async(r,t)=>{if(!(null==e?void 0:e.user)){a.push("/auth/signin");return}m(t);try{for(let e of r){let r=e.id||e._id;if((await fetch("/api/courses/".concat(r,"/progress"))).ok)continue;let a=await fetch("/api/courses/enroll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:r})});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to enroll in course")}}alert("Successfully enrolled in the ".concat(d[t].title," learning path!")),a.push("/dashboard")}catch(e){console.error("Error enrolling in learning path:",e),alert("Failed to enroll in learning path. Please try again.")}finally{m(null)}};return"loading"===r||h?(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Z,{}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Generating AI learning paths..."})]})})]}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(o.Z,{}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"AI-Generated Learning Paths"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Personalized learning journeys designed to help you achieve your goals"})]}),d.length>0?(0,t.jsx)("div",{className:"space-y-12",children:d.map((e,r)=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:e.description}),(0,t.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,t.jsx)("div",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:e.estimatedTimeToComplete}),e.skillsGained.map((e,r)=>(0,t.jsx)("div",{className:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm",children:e},r))]})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recommended Course Sequence"}),(0,t.jsx)("div",{className:"space-y-6",children:e.courses.map((e,r)=>(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 font-bold",children:r+1}),(0,t.jsxs)("div",{className:"ml-4 flex-1",children:[(0,t.jsx)("h4",{className:"text-lg font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("beginner"===e.difficulty?"bg-green-200 text-green-800":"intermediate"===e.difficulty?"bg-blue-200 text-blue-800":"bg-purple-200 text-purple-800"),children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)}),(0,t.jsx)(l(),{href:"/courses/".concat(e.id||e._id),className:"text-indigo-600 hover:text-indigo-800",children:"View Course â†’"})]})]})]},e.id||e._id))})]}),(0,t.jsx)("div",{className:"p-6 bg-gray-50 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:()=>p(e.courses,r),disabled:x===r,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:x===r?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enrolling..."]}):"Enroll in This Learning Path"})})]},r))}):(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No learning paths available"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Complete more courses to unlock personalized learning paths"}),(0,t.jsx)(l(),{href:"/courses",className:"inline-flex items-center px-4 py-2 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Browse Courses"})]})]})]}):(a.push("/auth/signin"),null)}},1163:function(e,r,a){e.exports=a(3035)}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=9641)}),_N_E=e.O()}]);